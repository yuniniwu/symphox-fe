(this["webpackJsonpsymphox-fe"]=this["webpackJsonpsymphox-fe"]||[]).push([[0],{40:function(n,e,t){"use strict";t.r(e);var r,c,a,o,i,s,d,b,l=t(1),u=t(24),j=t.n(u),h=t(6),p=t(2),O=t(3),m=Object(O.a)(r||(r=Object(p.a)(["\n/*\n  CSS reset \n  http://meyerweb.com/eric/tools/css/reset/ \n  v2.0 | 20110126\n  License: none (public domain)\n*/\n  html,\n  body,\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n  \n  /* below is not part of css reset */\n  input {\n    font-size: 1rem;\n  }\n\n","\n"])),""),x=t(10),g=t(4),f=t(17),v=t(20),y="token",w=function(n){localStorage.setItem(y,n)},k=function(){return localStorage.getItem(y)},C="https://salty-refuge-24417.herokuapp.com",S="".concat(C,"/api/orders_collection"),F="".concat(C,"/orders"),q="".concat(C,"/login"),I="".concat(C,"/me"),z=function(){var n=k();return fetch(I,{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))},E=Object(l.createContext)(null),T=t(0),M=O.b.div(c||(c=Object(p.a)(["\n  max-width: 360px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1rem;\n"]))),D=O.b.form(a||(a=Object(p.a)(["\n  border: 1px solid #000;\n  border-radius: 10px;\n  overflow: hidden;\n"]))),J=O.b.p(o||(o=Object(p.a)(["\n  background-color: #eee;\n  padding: 0.5rem;\n"]))),B=O.b.div(i||(i=Object(p.a)(["\n  margin: 2rem;\n  display: flex;\n  flex-direction: column;\n"]))),L=O.b.input(s||(s=Object(p.a)(["\n  margin-bottom: 1rem;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0.5rem;\n"]))),N=O.b.input(d||(d=Object(p.a)(["\n  align-self: flex-end;\n  flex: 0;\n  border: none;\n  box-sizing: border-box;\n  padding: 0.4rem 1.6rem;\n  background: #555;\n  color: #fff;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    background: #222;\n  }\n  ","\n"])),(function(n){return!0===n.disabled&&"\n    background: #ccc;\n    color: #fff;\n    cursor: none;\n    transition: none;\n  "})),P=O.b.div(b||(b=Object(p.a)(["\n  margin-top: 1rem;\n  font-weight: bold;\n  color: red;\n"])));function U(){var n=Object(l.useContext)(E),e=n.user,t=n.setUser,r=Object(l.useState)({username:"",password:""}),c=Object(h.a)(r,2),a=c[0],o=c[1],i=Object(l.useState)(""),s=Object(h.a)(i,2),d=s[0],b=s[1],u=Object(l.useState)(!1),j=Object(h.a)(u,2),p=j[0],O=j[1],m=Object(g.f)(),x=a.username,y=a.password;Object(l.useEffect)((function(){e&&m.push("/")}),[m,e]);var k=function(n){var e=n.target.value,t=n.target.name;o(Object(v.a)(Object(v.a)({},a),{},Object(f.a)({},t,e)))},C=function(){b(!1),O(!1)};return Object(T.jsx)(M,{children:Object(T.jsxs)(D,{onSubmit:function(n){if(n.preventDefault(),!x||!y)return b(!0);(function(n,e){return fetch(q,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:e})}).then((function(n){return n.json()}))})(x,y).then((function(n){if(!n.ok)return O(!0),alert(n.message);w(n.token),z().then((function(e){if(1!==e.ok)return w(null),O(!0),alert(n.message);t(e.data)})),m.push("/")})),o({username:"",password:""}),O(!1)},children:[Object(T.jsx)(J,{children:"\u767b\u5165"}),Object(T.jsxs)(B,{children:[Object(T.jsx)(L,{type:"email",value:x,name:"username",placeholder:"\u8f38\u5165\u5e33\u865f",onChange:k,onFocus:C}),Object(T.jsx)(L,{type:"password",value:y,name:"password",placeholder:"\u8f38\u5165\u5bc6\u78bc",onChange:k,onFocus:C}),Object(T.jsx)(N,{type:"submit",value:"Login",disabled:p}),d&&Object(T.jsx)(P,{children:"\u8acb\u8f38\u5165\u5e33\u865f\u5bc6\u78bc"})]})]})})}var _,A,H,G,K,Q,R=t.p+"static/media/user.bb7e8c08.svg",V=t.p+"static/media/drop-down-arrow.9bc62516.svg",W=O.b.div(_||(_=Object(p.a)(["\n  border: 1px solid black;\n  padding: 0.5rem;\n  margin: 1rem 0 0 1rem;\n"]))),X=O.b.p(A||(A=Object(p.a)(["\n  cursor: pointer;\n\n  & img {\n    padding-right: 0.2rem;\n  }\n"]))),Y=Object(O.b)(x.b)(H||(H=Object(p.a)(["\n  margin-top: 1rem;\n  text-align: center;\n  text-decoration: none;\n  color: black;\n  display: block;\n"])));function Z(n){var e=n.outerText,t=n.innerOption,r=Object(l.useState)(!1),c=Object(h.a)(r,2),a=c[0],o=c[1];return Object(T.jsxs)(W,{children:[Object(T.jsxs)(X,{onClick:function(){o(!a)},children:[Object(T.jsx)("img",{src:V,alt:"drop-Down-Arrow-icon"}),e]}),a&&Object(T.jsx)(T.Fragment,{children:t.map((function(n,e){return Object(T.jsx)(Y,{to:n.to,children:n.content},e)}))})]})}var $=O.b.div(G||(G=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5rem;\n"]))),nn=O.b.div(K||(K=Object(p.a)(["\n  max-width: 360px;\n  margin: 0 auto;\n  padding: 30px;\n  font-size: 1rem;\n  background-color: #fff;\n"]))),en=O.b.div(Q||(Q=Object(p.a)(["\n  margin: 1rem 1rem 0 0;\n  & a > img {\n    box-sizing: border-box;\n    min-width: 36px;\n    min-height: 36px;\n    width: 4vw;\n    height: 4vw;\n  }\n"]))),tn=[{to:"/appendOrder",content:"\u65b0\u589e\u8a02\u55ae"},{to:"/queryOrder",content:"\u8a02\u55ae\u67e5\u8a62"}];function rn(){var n=Object(l.useContext)(E).user,e=Object(g.f)();return n||e.push("/login"),Object(T.jsx)($,{children:n&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(en,{children:Object(T.jsx)(Z,{outerText:"\u8a02\u55ae\u7ba1\u7406",innerOption:tn})}),Object(T.jsx)(nn,{children:"\u60a8\u5df2\u767b\u5165\u6210\u529f"}),Object(T.jsx)(en,{children:Object(T.jsx)("a",{href:"/login",children:Object(T.jsx)("img",{src:R,alt:"\u6211\u7684\u5e33\u6236"})})})]})})}var cn,an,on,sn,dn,bn,ln,un,jn,hn=t.p+"static/media/plus.6f6b1b81.svg",pn=t(28),On=function(){var n={name:"",logo:"",status:{code:0,type:"Select"}},e=Object(l.useState)([n]),t=Object(h.a)(e,2),r=t[0],c=t[1],a=Object(l.useState)(!1),o=Object(h.a)(a,2),i=o[0],s=o[1],d=Object(l.useState)(!1),b=Object(h.a)(d,2),u=b[0],j=b[1];return{fields:r,hasError:i,isDisabled:u,addChild:function(){c([].concat(Object(pn.a)(r),[n]))},handleInputChange:function(n,e){var t=e.target.value,a=e.target.name,o=r.map((function(e,r){return n===r&&("status"===a?(e.status.type=t,e.status.code=function(n){var e;switch(n){case"\u8655\u7406\u4e2d":e=1;break;case"\u5df2\u6210\u7acb":e=2;break;case"\u5df2\u53d6\u6d88":e=3;break;case"\u5df2\u9001\u9054":e=4;break;default:e=""}return e}(t)):e[a]=t),e}));c(o)},handleSubmit:function(e){e.preventDefault(),console.log(r),function(n){var e=k();fetch(S,{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(e)},body:JSON.stringify(n)}).then((function(n){n.json()}))}(r),c([n])},handleFocus:function(){s(!1),j(!1)}}},mn=O.b.div(cn||(cn=Object(p.a)(["\n  font-size: 1.2rem;\n  display: flex;\n  line-height: 1.6rem;\n  margin-bottom: 0.5rem;\n\n  & input {\n    height: 1.5rem;\n    padding: 0 0.5rem;\n    display: block;\n    border: 1px solid black;\n\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  & select {\n    height: 1.6rem;\n    padding: 0 1rem;\n    font-size: 1rem;\n  }\n"]))),xn=O.b.div(an||(an=Object(p.a)(["\n  color: #e74149;\n  font-size: 1rem;\n  margin-left: 0.5rem;\n"]))),gn=function(n){var e=n.type,t=n.name,r=n.value,c=n.question,a=n.placeholder,o=(n.required,n.hasError),i=n.errorMessage,s=n.handleInputChange,d=n.handleFocus,b=n.groupId;return Object(T.jsxs)(mn,{children:[Object(T.jsx)("label",{htmlFor:t,children:c}),Object(T.jsx)("input",{type:e,id:t,name:t,value:r,onChange:function(n){return s(b,n)},onFocus:d,placeholder:a,required:!0}),o&&!r&&Object(T.jsx)(xn,{children:i})]})},fn=function(n){var e=n.name,t=n.value,r=n.question,c=n.options,a=(n.required,n.hasError),o=n.errorMessage,i=n.handleInputChange,s=n.handleFocus,d=n.groupId;return Object(T.jsxs)(mn,{children:[Object(T.jsxs)("label",{htmlFor:e,children:[r,Object(T.jsxs)("select",{id:e,name:e,value:t,onChange:function(n){return i(d,n)},onFocus:s,required:!0,children:[Object(T.jsx)("option",{value:"Select",disabled:!0,children:"Select"}),c.map((function(n,e){return Object(T.jsx)("option",{value:n,children:n},e)}))]})]}),a&&!t&&Object(T.jsx)(xn,{children:o})]})},vn=O.b.input(on||(on=Object(p.a)(["\n  margin: 0.5rem;\n  align-self: flex-end;\n  flex: 0;\n  border: none;\n  box-sizing: border-box;\n  box-shadow: 2px 2px 10px #555;\n  padding: 0.4rem 1.6rem;\n  background: #fff;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    background: #ddd;\n  }\n  ","\n"])),(function(n){return!0===n.disabled&&"\n    background: #ccc;\n    color: #fff;\n    cursor: none;\n    transition: none;\n  "})),yn=O.b.div(sn||(sn=Object(p.a)(["\n  max-width: 960px;\n  max-height: 768px;\n  margin: 0 auto;\n  width: 50vw;\n  height: 100vh;\n"]))),wn=O.b.form(dn||(dn=Object(p.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n"]))),kn=O.b.div(bn||(bn=Object(p.a)(["\n  width: 90%;\n  margin: 0 auto;\n  padding: 1rem 0;\n  display: flex;\n  flex-grow: 1;\n"]))),Cn=O.b.div(ln||(ln=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Sn=O.b.div(un||(un=Object(p.a)(["\n  padding: 1rem;\n\n  & + & {\n    border-top: 1px solid #ccc;\n  }\n"])));function Fn(n){var e=n.groupId,t=n.order,r=n.hasError,c=n.handleInputChange,a=n.handleFocus,o=t.name,i=t.logo,s=t.status;return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(Sn,{children:[Object(T.jsx)(gn,{type:"text",name:"name",value:o,question:"\u5546\u54c1\u540d\u7a31\uff1a",handleInputChange:c,hasError:r,errorMessage:"\u8acb\u8f38\u5165\u5546\u54c1\u540d\u7a31",handleFocus:a,groupId:e}),Object(T.jsx)(gn,{type:"url",name:"logo",value:i,question:"\u5716\u793a\u9023\u7d50\uff1a",handleInputChange:c,hasError:r,errorMessage:"\u8acb\u8f38\u5165\u5716\u793a\u9023\u7d50",handleFocus:a,groupId:e}),Object(T.jsx)(fn,{type:"select",name:"status",value:s.type,question:"\u8a02\u55ae\u72c0\u614b\uff1a",options:["\u5df2\u53d6\u6d88","\u5df2\u6210\u7acb","\u8655\u7406\u4e2d","\u5df2\u9001\u9054"],handleInputChange:c,hasError:r,errorMessage:"\u8acb\u9078\u64c7\u8a02\u55ae\u72c0\u614b",handleFocus:a,groupId:e})]})})}var qn,In,zn=O.b.img(jn||(jn=Object(p.a)(["\n  margin: 1rem;\n  width: 3vw;\n  height: 3vw;\n  border-radius: 50%;\n  box-shadow: 2px 2px 10px #555;\n  cursor: pointer;\n"])));function En(){var n=On(),e=n.fields,t=n.hasError,r=n.isDisabled,c=n.addChild,a=n.handleInputChange,o=n.handleSubmit,i=n.handleFocus;return Object(T.jsx)(yn,{children:Object(T.jsxs)(wn,{onSubmit:o,children:[Object(T.jsxs)(kn,{children:[Object(T.jsxs)(Cn,{children:[e.map((function(n,e){return Object(T.jsx)(Fn,{groupId:e,order:n,hasError:t,handleInputChange:a,handleFocus:i},e)})),Object(T.jsx)("div",{children:JSON.stringify(e)})]}),Object(T.jsx)(zn,{src:hn,onClick:c})]}),Object(T.jsx)(vn,{type:"submit",value:"\u65b0\u589e",disabled:r})]})})}var Tn,Mn,Dn,Jn,Bn,Ln,Nn,Pn,Un,_n,An,Hn=O.b.nav(qn||(qn=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Gn=O.b.div(In||(In=Object(p.a)(["\n  margin: 1rem 1rem 0 0;\n\n  & a > img {\n    width: 4vw;\n    height: 4vw;\n  }\n"]))),Kn=[{to:"/appendOrder",content:"\u65b0\u589e\u8a02\u55ae"},{to:"/queryOrder",content:"\u8a02\u55ae\u67e5\u8a62"}];function Qn(){var n=Object(l.useContext)(E).user,e=Object(g.f)();return n||e.push("/login"),Object(T.jsx)(Hn,{children:n&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Gn,{children:Object(T.jsx)(Z,{outerText:"\u8a02\u55ae\u7ba1\u7406",innerOption:Kn})}),Object(T.jsx)(En,{}),Object(T.jsx)(Gn,{children:Object(T.jsx)("a",{href:"/login",children:Object(T.jsx)("img",{src:R,alt:"\u6211\u7684\u5e33\u6236"})})})]})})}var Rn,Vn,Wn=O.b.div(Tn||(Tn=Object(p.a)(["\n  max-width: 960px;\n  /* max-height: 768px; */\n  margin: 0 auto;\n  height: 100vh;\n  display: flex;\n  margin-top: 1rem;\n  padding: 2rem;\n"]))),Xn=O.b.div(Mn||(Mn=Object(p.a)(["\n  display: flex;\n  margin-right: 1rem;\n  align-self: start;\n"]))),Yn=O.b.div(Dn||(Dn=Object(p.a)(["\n  border: 1px solid #ccc;\n"]))),Zn=O.b.h3(Jn||(Jn=Object(p.a)(["\n  background-color: #ddd;\n  padding: 0.5rem;\n\n  & p {\n    border-left: 5px solid green;\n    padding-left: 0.5rem;\n  }\n"]))),$n=O.b.div(Bn||(Bn=Object(p.a)(["\n  display: flex;\n  padding: 0.5rem 0;\n  & + & {\n    border-top: 1px solid #ccc;\n  }\n"]))),ne=O.b.img(Ln||(Ln=Object(p.a)(["\n  width: 4vw;\n  height: 4vw;\n  margin: 0.5rem;\n  border-radius: 50%;\n"]))),ee=O.b.div(Nn||(Nn=Object(p.a)(["\n  flex: 1;\n  margin: 0 0.5rem;\n"]))),te=O.b.div(Pn||(Pn=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 0.5rem;\n"]))),re=O.b.p(Un||(Un=Object(p.a)(["\n  color: green;\n"]))),ce=O.b.p(_n||(_n=Object(p.a)([""]))),ae=O.b.p(An||(An=Object(p.a)(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),oe=function(n){var e=n.order;return Object(T.jsxs)($n,{children:[Object(T.jsx)(ne,{src:e.logo}),Object(T.jsxs)(ee,{children:[Object(T.jsxs)(te,{children:[Object(T.jsxs)(re,{children:[e.status.type," | ",e.status.code]}),Object(T.jsxs)(ce,{children:["\u9810\u8a08\u51fa\u8ca8\uff1a",e.date]})]}),Object(T.jsx)(ae,{children:e.name})]})]})};function ie(){var n=Object(l.useState)([]),e=Object(h.a)(n,2),t=e[0],r=e[1],c=Object(l.useState)("\u5168\u90e8\u986f\u793a"),a=Object(h.a)(c,2),o=a[0],i=a[1];Object(l.useEffect)((function(){fetch(F).then((function(n){return n.json()})).then((function(n){r(n)}))}),[]);var s=Object(l.useCallback)((function(n,e){var t=e.target.value;"\u5168\u90e8\u986f\u793a"===t&&i("\u5168\u90e8\u986f\u793a"),"\u9032\u884c\u4e2d"===t&&i("\u9032\u884c\u4e2d"),"\u5df2\u5b8c\u6210"===t&&i("\u5df2\u5b8c\u6210")}),[]),d=t.filter((function(n){return 1===n.status.code||2===n.status.code})),b=t.filter((function(n){return 3===n.status.code||4===n.status.code}));return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(Wn,{children:[Object(T.jsx)(Xn,{children:Object(T.jsx)(fn,{type:"select",name:"order_status",value:o,question:"\u8a02\u55ae\u72c0\u614b\uff1a",options:["\u5168\u90e8\u986f\u793a","\u9032\u884c\u4e2d","\u5df2\u5b8c\u6210"],errorMessage:"\u8acb\u9078\u64c7\u8a02\u55ae\u72c0\u614b",handleInputChange:s})}),Object(T.jsxs)(Yn,{children:["\u5df2\u5b8c\u6210"!==o&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Zn,{children:Object(T.jsx)("p",{children:"\u9032\u884c\u4e2d"})}),d.map((function(n,e){return Object(T.jsx)(oe,{order:n},e)}))]}),"\u9032\u884c\u4e2d"!==o&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Zn,{children:Object(T.jsx)("p",{children:"\u5df2\u5b8c\u6210"})}),b.map((function(n,e){return Object(T.jsx)(oe,{order:n},e)}))]})]})]})})}var se,de=O.b.nav(Rn||(Rn=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),be=O.b.div(Vn||(Vn=Object(p.a)(["\n  margin: 1rem 1rem 0 0;\n  & a > img {\n    box-sizing: border-box;\n    min-width: 36px;\n    min-height: 36px;\n    width: 4vw;\n    height: 4vw;\n  }\n"]))),le=[{to:"/appendOrder",content:"\u65b0\u589e\u8a02\u55ae"},{to:"/queryOrder",content:"\u8a02\u55ae\u67e5\u8a62"}];function ue(){var n=Object(l.useContext)(E).user,e=Object(g.f)();return n||e.push("/login"),Object(T.jsx)(de,{children:n&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(be,{children:Object(T.jsx)(Z,{outerText:"\u8a02\u55ae\u7ba1\u7406",innerOption:le})}),Object(T.jsx)(ie,{}),Object(T.jsx)(be,{children:Object(T.jsx)("a",{href:"/login",children:Object(T.jsx)("img",{src:R,alt:"\u6211\u7684\u5e33\u6236"})})})]})})}var je=O.b.div(se||(se=Object(p.a)(["\n  max-width: 1024px;\n  margin: 0 auto;\n  font-size: 1rem;\n"])));var he=function(){var n=Object(l.useState)(null),e=Object(h.a)(n,2),t=e[0],r=e[1];return Object(l.useEffect)((function(){k()&&z().then((function(n){n.ok&&r(n.data)}))}),[]),Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(E.Provider,{value:{user:t,setUser:r},children:Object(T.jsx)(x.a,{basename:"/symphox-fe",children:Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(m,{}),Object(T.jsx)(je,{children:Object(T.jsxs)(g.c,{children:[Object(T.jsx)(g.a,{path:"/login",children:Object(T.jsx)(U,{})}),Object(T.jsx)(g.a,{exact:!0,path:"/",children:Object(T.jsx)(rn,{})}),Object(T.jsx)(g.a,{path:"/queryOrder",children:Object(T.jsx)(ue,{})}),Object(T.jsx)(g.a,{path:"/appendOrder",children:Object(T.jsx)(Qn,{})})]})})]})})})})};j.a.render(Object(T.jsx)(he,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f43f6c55.chunk.js.map